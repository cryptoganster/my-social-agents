#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# STEP 1: Auto-rebase (optional, asks user)
bash .husky/pre-push-auto-rebase "$@"

# STEP 2: Safety checks (blocks push without rebase + force push)
bash .husky/pre-push-safety "$@"

# Run fast checks only - tests run in CI
echo "ğŸ” Running pre-push checks..."

# Format check
npm run format:check || exit 1

# Lint check
npm run lint:check || exit 1

# Type check
npm run typecheck || exit 1

echo "âœ… Pre-push checks passed!"
